> 인덱스의 탐색과정은 수직적 탐색, 수평적 탐색 두 단계로 이루어진다.

인덱스 튜닝
-
데이터베이스에서 데이터를 찾는 방법은 두 가지이다.

- 테이블 전체를 스캔한다
- 인덱스를 스캔한다

찾아야 할 데이터가 많다면 전자가, 아니라면 후자가 빠르다.
- 인덱스와 관련한 튜닝 요소는 매우 많고, 기법 역시 다양하다.

인덱스 튜닝의 두 가지 핵심요소
-
인덱스는 큰 테이블에서 소량의 데이터를 검색할 때 사용한다. 인덱스 튜닝의 핵심요소는 크게 두 가지이다.
1. 인덱스 스캔 효율화 튜닝: 인덱스 스캔 과정에서 생기는 비효율을 줄이는 것
2. 랜덤 엑세스 최소화 튜닝: 테이블 엑세스 수를 줄이는 것
> 두 방법 중 더욱 중요한(비용이 큰) 것은 랜덤 엑세스 최소화 튜닝이다. 다시말해 SQL 튜닝은 랜덤 I/O와의 전쟁이다.

SQL 튜닝은 랜덤 I/O와의 전쟁
-
- 데이터베이스 성능이 느린 이유는 I/O 때문이다. 특히 읽어야할 데이터가 많고 I/O가 많을 때 그렇다.

인덱스 구조
-
- 데이터베이스에서 인덱스 없이 데이터를 검색하려면 풀스캔이 필요하다. 
- 하지만 인덱스를 이용하면 범위스캔이 가능하다. 
- 범위스캔이 가능한 이유는 인덱스가 정렬되어 있기 때문이다.
- 인덱스를 스캔하는 이유는, 검색조건을 만족하는 소량의 데이터를 빨리찾고 거기서 ROWID를 얻기 위해서이다.
- 인덱스 탐색 과정은 수직적 탐색과 수평적 탐색으로 나눌수 있다
  - 수직적 탐색: 인덱스 스캔의 시작지점을 찾는 과정
  - 수평적 탐색: 데이터를 찾는 과정

인덱스의 수직적 탐색
-
정렬된 인덱스 레코드 중 조건을 만족하는 첫 번째 레코드를 찾는 과정이다. 즉 인덱스 스캔의 시작점을 찾는 과정이다.

수직적 탐색은 '조건을 만족하는 레코드'를 찾는 것이 아니라, '조건을 만족하는 첫 번째 레코드'를 찾는 것이다.

인덱스의 수평적 탐색
-
수직적 탐색을 통해 시작점을 찾았다면, 찾고자 하는 데이터가 더이상 나오지 않을때까지 인덱스 리프로 수평적으로 스캔한다. 즉, 인덱스에서 본격적으로 데이터를 찾는 과정이다.

인덱스를 수평적으로 탐색하는 이유는 두가지이다.
1. 조건절을 만족하는 데이터를 모두 찾기 위해서
2. ROW ID를 찾기 위해서: 필요한 컬럼을 인덱스가 모두 가지고 있는 경우도 있지만, 일반적으로 테이블 스캔도 필요하다. 이때 ROW ID가 필요하다.

결합 인덱스 구조와 탐색
-
- 두 개 이상의 인덱스를 결합해 인덱스를 만들 수도 있다.
- 일반적으로 선택도가 낮은 컬럼을 앞에 두면 연산 횟수가 줄어든다.
- 하지만 인덱스의 B*TREE에서는 다단계 구조로 구성이 되므로 "=" 연산을 한다면 일량의 차이는 없다.
